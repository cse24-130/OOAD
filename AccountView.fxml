<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane fx:id="accountPane" stylesheets="@styles.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="AccountController">
   <VBox spacing="20.0" AnchorPane.bottomAnchor="20.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0" AnchorPane.topAnchor="20.0">
      <Label styleClass="label-header" text="Account Management">
         <font>
            <Font name="Segoe UI Bold" size="24.0" />
         </font>
         <padding>
            <Insets bottom="10.0" />
         </padding>
      </Label>
      <Separator styleClass="separator" />
      <TabPane tabClosingPolicy="UNAVAILABLE" styleClass="tab-pane" VBox.vgrow="ALWAYS">
         <tabs>
            <!-- Cheque Account Tab -->
            <Tab fx:id="chequeAccountTab" text="Cheque Account" styleClass="tab">
               <content>
                  <AnchorPane minHeight="0.0" minWidth="0.0" styleClass="tab-content">
                     <VBox spacing="10.0" AnchorPane.bottomAnchor="70.0" AnchorPane.leftAnchor="15.0" AnchorPane.rightAnchor="15.0" AnchorPane.topAnchor="15.0">
                        <TitledPane animated="false" text="Cheque Account Information" styleClass="titled-pane" collapsible="false">
                           <content>
                              <GridPane hgap="10" vgap="8" style="-fx-padding: 10;">
                                 <columnConstraints>
                                    <ColumnConstraints hgrow="SOMETIMES" minWidth="120.0" prefWidth="150.0" />
                                    <ColumnConstraints hgrow="ALWAYS" minWidth="200.0" />
                                 </columnConstraints>
                                 <rowConstraints>
                                    <RowConstraints minHeight="30.0" prefHeight="30.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="30.0" prefHeight="30.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="30.0" prefHeight="30.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="30.0" prefHeight="30.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="30.0" prefHeight="30.0" vgrow="NEVER" />
                                 </rowConstraints>
                                 <children>
                                    <Label styleClass="form-label" text="Account Number" />
                                    <Label styleClass="form-label" text="Account Holder" GridPane.rowIndex="1" />
                                    <Label styleClass="form-label" text="Balance" GridPane.rowIndex="2" />
                                    <Label styleClass="form-label" text="Branch" GridPane.rowIndex="3" />
                                    <Label styleClass="form-label" text="Company Name" GridPane.rowIndex="4" />
                                    
                                    <TextField fx:id="chequeAccNumberField" styleClass="form-field" editable="false" promptText="Auto-generated" GridPane.columnIndex="1" />
                                    <TextField fx:id="chequeHolderField" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                    <TextField fx:id="chequeBalanceField" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                    <TextField fx:id="chequeBranchField" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                                    <TextField fx:id="chequeCompanyField" styleClass="form-field" promptText="Company Name, Address" GridPane.columnIndex="1" GridPane.rowIndex="4" />
                                 </children>
                                 <padding>
                                    <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                 </padding>
                              </GridPane>
                           </content>
                        </TitledPane>
                        
                        <TitledPane animated="false" text="Account Actions" styleClass="titled-pane" collapsible="false">
                           <content>
                              <HBox alignment="CENTER" spacing="10.0" style="-fx-padding: 8;">
                                 <Button fx:id="createChequeAccButton" styleClass="primary" mnemonicParsing="false" onAction="#handleCreateChequeAcc" text="Create Account" minWidth="120" />
                                 <Button fx:id="depositChequeButton" styleClass="success" mnemonicParsing="false" onAction="#handleDepositCheque" text="Deposit" minWidth="100" />
                                 <Button fx:id="withdrawChequeButton" styleClass="warning" mnemonicParsing="false" onAction="#handleWithdrawCheque" text="Withdraw" minWidth="100" />
                              </HBox>
                           </content>
                        </TitledPane>
                        
                        <TitledPane animated="false" text="Account Overview" expanded="true" styleClass="titled-pane">
                           <content>
                              <VBox spacing="5" VBox.vgrow="ALWAYS">
                                 <TableView fx:id="chequeTable" styleClass="data-table" style="-fx-font-size: 12px;">
                                    <columns>
                                       <TableColumn fx:id="chequeAccontNoCol" styleClass="table-column" minWidth="80.0" prefWidth="100.0" resizable="true" sortable="true" text="ACCOUNT NO" />
                                       <TableColumn fx:id="chequeHolderCol" styleClass="table-column" minWidth="120.0" prefWidth="150.0" resizable="true" sortable="true" text="HOLDER" />
                                       <TableColumn fx:id="campanyNameCol" styleClass="table-column" minWidth="120.0" prefWidth="200.0" resizable="true" sortable="true" text="COMPANY" />
                                       <TableColumn fx:id="chequeBalanceCol" styleClass="table-column" minWidth="80.0" prefWidth="120.0" resizable="true" sortable="true" text="BALANCE" />
                                    </columns>
                                    <columnResizePolicy>
                                       <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                 </TableView>
                                 <Label text="* Double-click on a row to view transaction history" style="-fx-font-size: 11px; -fx-text-fill: #666; -fx-padding: 5 0 0 5;" />
                              </VBox>
                           </content>
                        </TitledPane>
                     </VBox>
                     
                     <!-- Bottom status bar -->
                     <HBox style="-fx-background-color: #f5f5f5; -fx-padding: 8 15; -fx-spacing: 10;" alignment="CENTER_LEFT" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
                        <Label style="-fx-text-fill: #666; -fx-font-size: 12;" text="Ready" />
                     </HBox>
                  </AnchorPane>
               </content>
            </Tab>
            
            <!-- Savings Account Tab -->
            <Tab fx:id="savingsAccountTab" text="Savings Account" styleClass="tab">
               <content>
                  <AnchorPane minHeight="0.0" minWidth="0.0" styleClass="tab-content">
                     <VBox spacing="15.0" AnchorPane.bottomAnchor="70.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0" AnchorPane.topAnchor="20.0">
                        <TitledPane animated="false" text="Savings Account Information" styleClass="titled-pane">
                           <content>
                              <GridPane hgap="10" vgap="10">
                                 <columnConstraints>
                                    <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="200.0" />
                                    <ColumnConstraints hgrow="ALWAYS" minWidth="200.0" />
                                 </columnConstraints>
                                 <rowConstraints>
                                    <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="NEVER" />
                                 </rowConstraints>
                                 <children>
                                    <Label styleClass="form-label" text="Account Number" />
                                    <Label styleClass="form-label" text="Account Holder" GridPane.rowIndex="1" />
                                    <Label styleClass="form-label" text="Branch" GridPane.rowIndex="2" />
                                    <Label styleClass="form-label" text="Interest Rate" GridPane.rowIndex="3" />
                                    <Label styleClass="form-label" text="Balance" GridPane.rowIndex="4" />
                                    
                                    <TextField fx:id="savingsAccNoField" styleClass="form-field" GridPane.columnIndex="1" />
                                    <TextField fx:id="savingsAccHolderField" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                    <TextField fx:id="savingsBranchField" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                    <Label text="0.05% fixed" style="-fx-text-fill: #2c3e50; -fx-padding: 8 0 0 0;" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                                    <TextField fx:id="savingsBalanceField" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="4" />
                                 </children>
                                 <padding>
                                    <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                 </padding>
                              </GridPane>
                           </content>
                        </TitledPane>
                        
                        <TitledPane animated="false" text="Account Actions" styleClass="titled-pane">
                           <content>
                              <HBox alignment="CENTER" spacing="15.0" style="-fx-padding: 10;">
                                 <Button fx:id="createSavingsAccBtn" styleClass="primary" mnemonicParsing="false" onAction="#handleCreateSavingsAcc" text="Create Account" />
                                 <Button fx:id="savingsAccBtn" styleClass="success" mnemonicParsing="false" onAction="#handleDepositSavings" text="Deposit" />
                              </HBox>
                           </content>
                        </TitledPane>
                        
                        <TitledPane animated="false" text="Account Overview" expanded="true" styleClass="titled-pane">
                           <content>
                              <TableView fx:id="savingsTable" styleClass="data-table">
                                 <columns>
                                    <TableColumn fx:id="savingsAccCol" styleClass="table-column" minWidth="100.0" prefWidth="120.0" resizable="true" sortable="true" text="ACCOUNT NO" />
                                    <TableColumn fx:id="savingsAccHolderCol" styleClass="table-column" minWidth="150.0" prefWidth="180.0" resizable="true" sortable="true" text="ACCOUNT HOLDER" />
                                    <TableColumn fx:id="savingsBranchCol" styleClass="table-column" minWidth="150.0" prefWidth="200.0" resizable="true" sortable="true" text="BRANCH" />
                                    <TableColumn fx:id="savingsBalanceCol" styleClass="table-column" minWidth="100.0" prefWidth="150.0" resizable="true" sortable="true" text="BALANCE" />
                                 </columns>
                                 <columnResizePolicy>
                                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                 </columnResizePolicy>
                              </TableView>
                           </content>
                        </TitledPane>
                     </VBox>
                     
                     <!-- Bottom status bar -->
                     <HBox style="-fx-background-color: #f5f5f5; -fx-padding: 8 15; -fx-spacing: 10;" alignment="CENTER_LEFT" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
                        <Label style="-fx-text-fill: #666; -fx-font-size: 12;" text="Ready" />
                     </HBox>
                  </AnchorPane>
               </content>
            </Tab>
            
            <!-- Investment Account Tab -->
            <Tab fx:id="investmentAccountTab" text="Investment Account" styleClass="tab">
               <content>
                  <AnchorPane minHeight="0.0" minWidth="0.0" styleClass="tab-content">
                     <VBox spacing="15.0" AnchorPane.bottomAnchor="70.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0" AnchorPane.topAnchor="20.0">
                        <TitledPane animated="false" text="Investment Account Information" styleClass="titled-pane">
                           <content>
                              <GridPane hgap="10" vgap="10">
                                 <columnConstraints>
                                    <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="200.0" />
                                    <ColumnConstraints hgrow="ALWAYS" minWidth="200.0" />
                                 </columnConstraints>
                                 <rowConstraints>
                                    <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="NEVER" />
                                    <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="NEVER" />
                                 </rowConstraints>
                                 <children>
                                    <Label styleClass="form-label" text="Account Number" />
                                    <Label styleClass="form-label" text="Account Holder" GridPane.rowIndex="1" />
                                    <Label styleClass="form-label" text="Branch" GridPane.rowIndex="2" />
                                    <Label styleClass="form-label" text="Interest Rate" GridPane.rowIndex="3" />
                                    <Label styleClass="form-label" text="Balance" GridPane.rowIndex="4" />
                                    
                                    <TextField fx:id="investmentAccNoField" styleClass="form-field" GridPane.columnIndex="1" />
                                    <TextField fx:id="investmentAccHolderField" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                    <TextField fx:id="investmentBranchField" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                    <Label text="5% fixed" style="-fx-text-fill: #2c3e50; -fx-padding: 8 0 0 0;" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                                    <TextField fx:id="investmentBalance" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="4" />
                                 </children>
                                 <padding>
                                    <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                 </padding>
                              </GridPane>
                           </content>
                        </TitledPane>
                        
                        <TitledPane animated="false" text="Account Actions" styleClass="titled-pane">
                           <content>
                              <HBox alignment="CENTER" spacing="15.0" style="-fx-padding: 10;">
                                 <Button fx:id="createInvestmentAccBtn" styleClass="primary" mnemonicParsing="false" onAction="#handleCreateInvestmentAcc" text="Create Account" />
                                 <Button fx:id="investmentDepositBtn" styleClass="success" mnemonicParsing="false" onAction="#handleDepositInvestment" text="Deposit" />
                                 <Button fx:id="withdrawInvestmentBtn" styleClass="warning" mnemonicParsing="false" onAction="#handlewithdrawInvestment" text="Withdraw" />
                              </HBox>
                           </content>
                        </TitledPane>
                        
                        <TitledPane animated="false" text="Account Overview" expanded="true" styleClass="titled-pane">
                           <content>
                              <TableView fx:id="investmentTable" styleClass="data-table">
                                 <columns>
                                    <TableColumn fx:id="investmentAccNoCol" styleClass="table-column" minWidth="100.0" prefWidth="120.0" resizable="true" sortable="true" text="ACCOUNT NO" />
                                    <TableColumn fx:id="investmentAccHolderCol" styleClass="table-column" minWidth="150.0" prefWidth="180.0" resizable="true" sortable="true" text="ACCOUNT HOLDER" />
                                    <TableColumn fx:id="investmentBranchCol" styleClass="table-column" minWidth="150.0" prefWidth="200.0" resizable="true" sortable="true" text="BRANCH" />
                                    <TableColumn fx:id="investmentBalanceCol" styleClass="table-column" minWidth="100.0" prefWidth="150.0" resizable="true" sortable="true" text="BALANCE" />
                                 </columns>
                                 <columnResizePolicy>
                                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                 </columnResizePolicy>
                              </TableView>
                           </content>
                        </TitledPane>
                     </VBox>
                     
                     <!-- Bottom status bar -->
                     <HBox style="-fx-background-color: #f5f5f5; -fx-padding: 8 15; -fx-spacing: 10;" alignment="CENTER_LEFT" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
                        <Label style="-fx-text-fill: #666; -fx-font-size: 12;" text="Ready" />
                     </HBox>
                  </AnchorPane>
               </content>
            </Tab>
            
            <!-- New Account Overview Tab -->
            <Tab fx:id="overviewTab" text="Account Overview" styleClass="tab">
               <content>
                  <AnchorPane minHeight="0.0" minWidth="0.0" styleClass="tab-content">
                     <VBox spacing="15.0" AnchorPane.bottomAnchor="15.0" AnchorPane.leftAnchor="15.0" AnchorPane.rightAnchor="15.0" AnchorPane.topAnchor="15.0">
                        <Label styleClass="label-header" text="Account Summary">
                           <font>
                              <Font name="Segoe UI Bold" size="18.0" />
                           </font>
                        </Label>
                        
                        <TitledPane animated="false" text="Account Balances" styleClass="titled-pane" collapsible="false">
                           <content>
                              <VBox spacing="10">
                                 <HBox spacing="20" alignment="CENTER_LEFT" style="-fx-padding: 10;">
                                    <VBox spacing="5" style="-fx-padding: 10; -fx-background-color: #f8f9fa; -fx-background-radius: 8;">
                                       <Label text="Cheque Account" style="-fx-font-weight: bold;" />
                                       <Label fx:id="chequeBalanceSummary" style="-fx-font-size: 16; -fx-text-fill: #2c3e50;" />
                                    </VBox>
                                    
                                    <VBox spacing="5" style="-fx-padding: 10; -fx-background-color: #f8f9fa; -fx-background-radius: 8;">
                                       <Label text="Savings Account" style="-fx-font-weight: bold;" />
                                       <Label fx:id="savingsBalanceSummary" style="-fx-font-size: 16; -fx-text-fill: #2c3e50;" />
                                    </VBox>
                                    
                                    <VBox spacing="5" style="-fx-padding: 10; -fx-background-color: #f8f9fa; -fx-background-radius: 8;">
                                       <Label text="Investment Account" style="-fx-font-weight: bold;" />
                                       <Label fx:id="investmentBalanceSummary" style="-fx-font-size: 16; -fx-text-fill: #2c3e50;" />
                                    </VBox>
                                 </HBox>
                              </VBox>
                           </content>
                        </TitledPane>
                        
                        <TitledPane animated="false" text="All Accounts" expanded="true" styleClass="titled-pane">
                           <content>
                              <VBox spacing="5" VBox.vgrow="ALWAYS">
                                 <TableView fx:id="allAccountsTable" styleClass="data-table" style="-fx-font-size: 12px;">
                                    <columns>
                                       <TableColumn fx:id="accountTypeCol" styleClass="table-column" minWidth="100.0" prefWidth="120.0" resizable="true" sortable="true" text="ACCOUNT TYPE" />
                                       <TableColumn fx:id="accountNoCol" styleClass="table-column" minWidth="100.0" prefWidth="120.0" resizable="true" sortable="true" text="ACCOUNT NO" />
                                       <TableColumn fx:id="holderCol" styleClass="table-column" minWidth="120.0" prefWidth="150.0" resizable="true" sortable="true" text="HOLDER" />
                                       <TableColumn fx:id="branchCol" styleClass="table-column" minWidth="100.0" prefWidth="120.0" resizable="true" sortable="true" text="BRANCH" />
                                       <TableColumn fx:id="balanceCol" styleClass="table-column" minWidth="100.0" prefWidth="120.0" resizable="true" sortable="true" text="BALANCE" />
                                       <TableColumn fx:id="statusCol" styleClass="table-column" minWidth="80.0" prefWidth="100.0" resizable="true" sortable="true" text="STATUS" />
                                    </columns>
                                    <columnResizePolicy>
                                       <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                 </TableView>
                                 <Label text="* Double-click on a row to view account details" style="-fx-font-size: 11px; -fx-text-fill: #666; -fx-padding: 5 0 0 5;" />
                              </VBox>
                           </content>
                        </TitledPane>
                        
                        <TitledPane animated="false" text="Recent Transactions" expanded="true" styleClass="titled-pane">
                           <content>
                              <VBox spacing="5" VBox.vgrow="ALWAYS">
                                 <TableView fx:id="recentTransactionsTable" styleClass="data-table" style="-fx-font-size: 12px;">
                                    <columns>
                                       <TableColumn fx:id="transDateCol" styleClass="table-column" minWidth="100.0" prefWidth="120.0" resizable="true" sortable="true" text="DATE" />
                                       <TableColumn fx:id="transAccountCol" styleClass="table-column" minWidth="100.0" prefWidth="120.0" resizable="true" sortable="true" text="ACCOUNT" />
                                       <TableColumn fx:id="transTypeCol" styleClass="table-column" minWidth="80.0" prefWidth="100.0" resizable="true" sortable="true" text="TYPE" />
                                       <TableColumn fx:id="transDescriptionCol" styleClass="table-column" minWidth="150.0" prefWidth="200.0" resizable="true" sortable="true" text="DESCRIPTION" />
                                       <TableColumn fx:id="transAmountCol" styleClass="table-column" minWidth="100.0" prefWidth="120.0" resizable="true" sortable="true" text="AMOUNT" />
                                       <TableColumn fx:id="transBalanceCol" styleClass="table-column" minWidth="100.0" prefWidth="120.0" resizable="true" sortable="true" text="BALANCE" />
                                    </columns>
                                    <columnResizePolicy>
                                       <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                 </TableView>
                                 <HBox alignment="CENTER_RIGHT" style="-fx-padding: 5;">
                                    <Button text="View All Transactions" styleClass="primary" onAction="#handleViewAllTransactions" style="-fx-font-size: 12px;" />
                                 </HBox>
                              </VBox>
                           </content>
                        </TitledPane>
                     </VBox>
                     
                     <!-- Bottom status bar -->
                     <HBox style="-fx-background-color: #f5f5f5; -fx-padding: 8 15; -fx-spacing: 10;" alignment="CENTER_LEFT" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
                        <Label style="-fx-text-fill: #666; -fx-font-size: 12;" text="Ready" />
                     </HBox>
                  </AnchorPane>
               </content>
            </Tab>
         </tabs>
      </TabPane>
   </VBox>
</AnchorPane>
